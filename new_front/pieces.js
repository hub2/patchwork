var pieces = [{"name": "+ (double width variant)", "moves": 3, "price": 5, "buttons": 1, "layout": [[0.0, 1.0, 0.0], [1.0, 1.0, 1.0], [1.0, 1.0, 1.0], [0.0, 1.0, 0.0]]}, {"name": "2x2 square (two stick out variant)", "moves": 5, "price": 10, "buttons": 3, "layout": [[1.0, 1.0], [1.0, 1.0], [0.0, 1.0], [0.0, 1.0]]}, {"name": "s (expensive variant)", "moves": 6, "price": 7, "buttons": 3, "layout": [[0.0, 1.0, 1.0], [1.0, 1.0, 0.0]]}, {"name": "s (wide variant)", "moves": 2, "price": 1, "buttons": 0, "layout": [[0.0, 1.0, 1.0], [0.0, 1.0, 0.0], [0.0, 1.0, 0.0], [1.0, 1.0, 0.0]]}, {"name": "3x1 line", "moves": 2, "price": 2, "buttons": 0, "layout": [[1.0], [1.0], [1.0]]}, {"name": "u (wide variant)", "moves": 5, "price": 1, "buttons": 1, "layout": [[1.0, 1.0], [0.0, 1.0], [0.0, 1.0], [1.0, 1.0]]}, {"name": "w", "moves": 4, "price": 10, "buttons": 3, "layout": [[0.0, 0.0, 1.0], [0.0, 1.0, 1.0], [1.0, 1.0, 0.0]]}, {"name": "small T (1)", "moves": 2, "price": 2, "buttons": 0, "layout": [[1.0, 0.0], [1.0, 1.0], [1.0, 0.0]]}, {"name": "2x2 square (one stick out each side alternating variant)", "moves": 2, "price": 4, "buttons": 0, "layout": [[1.0, 0.0], [1.0, 1.0], [1.0, 1.0], [0.0, 1.0]]}, {"name": "+", "moves": 4, "price": 5, "buttons": 2, "layout": [[0.0, 1.0, 0.0], [1.0, 1.0, 1.0], [0.0, 1.0, 0.0]]}, {"name": "2x2 square", "moves": 5, "price": 6, "buttons": 2, "layout": [[1.0, 1.0], [1.0, 1.0]]}, {"name": "L (low cost variant)", "moves": 2, "price": 4, "buttons": 1, "layout": [[1.0, 1.0, 1.0], [0.0, 0.0, 1.0]]}, {"name": "u", "moves": 2, "price": 1, "buttons": 0, "layout": [[1.0, 1.0], [0.0, 1.0], [1.0, 1.0]]}, {"name": "s (cheap variant)", "moves": 2, "price": 3, "buttons": 1, "layout": [[0.0, 1.0, 1.0], [1.0, 1.0, 0.0]]}, {"name": "s (wings variant)", "moves": 1, "price": 2, "buttons": 0, "layout": [[0.0, 1.0, 0.0], [0.0, 1.0, 1.0], [1.0, 1.0, 0.0], [0.0, 1.0, 0.0]]}, {"name": "L (high cost variant)", "moves": 6, "price": 4, "buttons": 2, "layout": [[1.0, 1.0, 1.0], [0.0, 0.0, 1.0]]}, {"name": "L (long variant)", "moves": 3, "price": 10, "buttons": 2, "layout": [[1.0, 1.0, 1.0, 1.0], [0.0, 0.0, 0.0, 1.0]]}, {"name": "2x2 square (two under sideways variant)", "moves": 6, "price": 8, "buttons": 3, "layout": [[0.0, 0.0, 1.0], [1.0, 1.0, 1.0], [1.0, 1.0, 0.0]]}, {"name": "corner (button variant)", "moves": 1, "price": 3, "buttons": 0, "layout": [[0.0, 1.0], [1.0, 1.0]]}, {"name": "5x1 line", "moves": 1, "price": 7, "buttons": 1, "layout": [[1.0], [1.0], [1.0], [1.0], [1.0]]}, {"name": "2x2 square (one stick out variant)", "moves": 2, "price": 2, "buttons": 0, "layout": [[1.0, 1.0], [1.0, 1.0], [0.0, 1.0]]}, {"name": "2x1 line (starting Piece)", "moves": 1, "price": 2, "buttons": 0, "layout": [[1.0], [1.0]]}, {"name": "L (one extra same line variant)", "moves": 4, "price": 3, "buttons": 1, "layout": [[1.0, 1.0, 1.0, 1.0], [0.0, 0.0, 1.0, 0.0]]}, {"name": "4x1 line", "moves": 3, "price": 3, "buttons": 1, "layout": [[1.0], [1.0], [1.0], [1.0]]}, {"name": "free cross (medium t (2) with a double top)", "moves": 3, "price": 0, "buttons": 1, "layout": [[0.0, 1.0, 0.0, 0.0], [1.0, 1.0, 1.0, 1.0], [0.0, 1.0, 0.0, 0.0]]}, {"name": "corner (time variant)", "moves": 3, "price": 1, "buttons": 0, "layout": [[0.0, 1.0], [1.0, 1.0]]}, {"name": "medium T (2)", "moves": 5, "price": 5, "buttons": 2, "layout": [[1.0, 0.0, 0.0], [1.0, 1.0, 1.0], [1.0, 0.0, 0.0]]}, {"name": "s (long variant)", "moves": 3, "price": 2, "buttons": 1, "layout": [[0.0, 0.0, 1.0, 1.0], [1.0, 1.0, 1.0, 0.0]]}, {"name": "Y", "moves": 6, "price": 3, "buttons": 2, "layout": [[1.0, 1.0, 0.0], [0.0, 1.0, 1.0], [1.0, 1.0, 0.0]]}, {"name": "long T (3)", "moves": 2, "price": 7, "buttons": 2, "layout": [[1.0, 0.0, 0.0, 0.0], [1.0, 1.0, 1.0, 1.0], [1.0, 0.0, 0.0, 0.0]]}, {"name": "H", "moves": 3, "price": 2, "buttons": 0, "layout": [[1.0, 1.0, 1.0], [0.0, 1.0, 0.0], [1.0, 1.0, 1.0]]}, {"name": "+ (long variant)", "moves": 4, "price": 1, "buttons": 1, "layout": [[0.0, 0.0, 1.0, 0.0, 0.0], [1.0, 1.0, 1.0, 1.0, 1.0], [0.0, 0.0, 1.0, 0.0, 0.0]]}, {"name": "2x2 square (one stick out each side variant)", "moves": 4, "price": 7, "buttons": 2, "layout": [[0.0, 1.0], [1.0, 1.0], [1.0, 1.0], [0.0, 1.0]]}];

var piecesObjects = [];
function Piece(name, moves, price, buttons, layout){
    this.name = name;
    this.moves = moves;
    this.price = price;
    this.buttons = buttons;
    this.layout = layout;

    // TODO: rotation and flip
    this.draw = function(x, y, size, rotation, flip){
        for(let i=0;i<this.layout.length;i++){
            for(let j=0;j<this.layout[0].length;j++){
                if (this.layout[i][j] == 1.0){
                    rect(x+j*size, y+i*size, size, size);
                }
            }
        }
    }
}

pieces.forEach(function(piece, idx){
    name = piece.name;
    moves = piece.moves;
    price = piece.price;
    buttons = piece.buttons;
    layout = piece.layout;
    piecesObjects.push(new Piece(name, moves, price, buttons, layout));
});

